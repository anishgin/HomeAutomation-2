<html><title>Anish G</title><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="shortcut icon" type="image/png" href="images/favicon.png"/><link rel="icon" type="image/png" href="images/favicon.ico"/><link rel="stylesheet" href="css/styles.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mukta+Malar:300"/><style>h1 {	font-family: 'Mukta Malar', sans-serif;	font-size: 110px;	font-style: normal;	font-variant: normal;	font-weight: 100;	line-height: 12.1px;}</style></head><body bgcolor="#3399ff"><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script><div class="whole">	<div class="thediv" style="text-align: center";>		<h1 style="color:white;display: inline-block">Bulb</h1>		<div class="onoffswitch" style="display: inline-block; margin-top: 66px">			<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="bulb" disabled>			<label class="onoffswitch-label" for="bulb"></label>		</div>	</div></div><div class="whole">	<div class="thediv" style="text-align: center";>		<h1 style="color:white;display: inline-block">Fan</h1>		<div class="onoffswitch" style="display: inline-block; margin-top: 66px">			<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="fan" disabled>			<label class="onoffswitch-label" for="fan"></label>		</div>	</div></div><div class="whole">	<div class="thediv" style="text-align: center";>		<h1 style="color:white;display: inline-block">TV</h1>		<div class="onoffswitch" style="display: inline-block; margin-top: 66px">			<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="tv" disabled>			<label class="onoffswitch-label" for="tv"></label>		</div>	</div></div><div id="container"></div><script>$('input[id=bulb]').change(function() {if (this.checked){deviceController("bulb", "on");} else {deviceController("bulb", "off")}});$('input[id=fan]').change(function() {if (this.checked){deviceController("fan", "on");} else {deviceController("fan", "off")}});$('input[id=tv]').change(function() {if (this.checked){deviceController("tv", "on");} else {deviceController("tv", "off")}});		function deviceController(device, state) {			alert("The device "+device+" is set to be "+state);						if (state == "on") {				alert("ON");				$.ajax({					type : "GET",					url : 'homeauto/'+device+'/on',					success : function(res) {						if (res == "TRUE") {							$('#container').html(res);							$('#'+device).prop('checked', true);						} else {							$('#container').html("<--->");							$('#'+device).prop('checked', false);						}					},					error : function(res) {						$('#'+device).attr("disabled", true);					},					complete : function(res) {					}				});						}			else {				$.ajax({					type : "GET",					url : 'homeauto/'+device+'/off',					success : function(res) {						if (res == "TRUE") {							$('#container').html(res);							$('#'+device).prop('checked', true);						} else {							$('#container').html("False");							$('#'+device).prop('checked', false);						}					},					error : function(res) {						$('#'+device).attr("disabled", true);					},					complete : function(res) {					}				});			}		}$(document).ready(function() {$.ajax({				type : "GET",				url : '/deviceStatus',				success : function(res) {					if (res[0] == "TRUE") {						$('#bulb').attr("disabled", false);						$('#container').html(res);						$('#bulb').prop('checked', true);					} else {						$('#bulb').attr("disabled", false);						$('#container').html("<><>");						$('#bulb').prop('checked', false);					}										if (res[1] == "TRUE") {						$('#fan').attr("disabled", false);						$('#container').html(res);						$('#fan').prop('checked', true);					} else {						$('#fan').attr("disabled", false);						$('#container').html("<><>");						$('#fan').prop('checked', false);					}															if (res[2] == "TRUE") {						$('#tv').attr("disabled", false);						$('#container').html(res);						$('#tv').prop('checked', true);					} else {						$('#tv').attr("disabled", false);						$('#container').html("<><>");						$('#tv').prop('checked', false);					}									},				error : function(res) {					$('#fan').attr("disabled", true);					$('#tv').attr("disabled", true);					$('#bulb').attr("disabled", true);				},				complete : function(res) {				}			});});</script></body></html>