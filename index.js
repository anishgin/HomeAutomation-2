var exp=require('express');var app=exp();var cors = require('cors');var path = require("path");var gpioadmin = require('./ledcontrol.js')app.use(cors());app.use(function(req, res, next) {	res.header("Access-Control-Allow-Origin", "*");	res.header('Access-Control-Allow-Methods', 'DELETE, PUT, GET, POST');	res.header("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept");	next();});app.get('/',function(req,resp)		{	app.use(exp.static('static'))	app.use('/static', exp.static('css'))	app.use('/static', exp.static('images'))	resp.sendFile(path.join(__dirname + '/index.html'));		});app.get('/deviceStatus',function(req,resp)		{	var out= gpioadmin.deviceStatus()			resp.send(out);		});app.get('homeauto/:device/:status',function(req,resp)		{	var  status = req.params.status;	var  device = req.params.device;	console.log(JSON.stringify(req.params.status) );	if(status.toLowerCase() == 'on' ){		console.log(device +" ON" + JSON.stringify(req.params));		//code to Make Bulb ON		gpioadmin.deviceOn(device)		//Code to get the Bulb Status		var out= gpioadmin.deviceStatus()		resp.send(out);		console.log(out)	}	else{		console.log(device+" Off" + JSON.stringify(req.params));		//code to Make Bulb OFF		gpioadmin.deviceOff()		//Code to get the Bulb Status		var out= gpioadmin.deviceStatus()		resp.send(out);		console.log(out);	}		});var server=app.listen(8082,function(){})